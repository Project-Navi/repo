{%- set gh = spec.github | default({}) -%}
name: Feature Request
description: "Suggest a feature for {{ spec.name }}"
title: "[Feature]: "
labels: ["enhancement", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        ## Before submitting

        - [ ] I have searched existing issues and discussions
        - [ ] This feature is not already being worked on

        Thanks for suggesting a feature!

  - type: textarea
    id: problem-motivation
    attributes:
      label: Problem / Motivation
      description: A clear description of the problem or motivation for this feature.
      placeholder: "I'm always frustrated when..."
    validations:
      required: true

  - type: textarea
    id: proposed-solution
    attributes:
      label: Proposed Solution
      description: Describe the solution you'd like.
      placeholder: Describe your ideal solution...
    validations:
      required: true

  - type: dropdown
    id: feature-category
    attributes:
      label: Feature Category
      description: Select the category that best describes this feature.
      options:
{%- for cat in gh.feature_categories | default(["New Feature", "Enhancement", "Integration", "Developer Experience", "Documentation"]) %}
        - {{ cat }}
{%- endfor %}
    validations:
      required: true

  - type: textarea
    id: alternatives-considered
    attributes:
      label: Alternatives Considered
      description: Describe any alternative solutions or features you've considered.
      placeholder: Other approaches you've thought about...
    validations:
      required: false

  - type: dropdown
    id: contribution-willingness
    attributes:
      label: Willingness to Contribute
      description: Would you be willing to help implement this feature?
      options:
        - "Yes, I can submit a PR"
        - "Yes, with guidance"
        - "No, but I can test"
        - "No"
    validations:
      required: true

  - type: textarea
    id: additional-context
    attributes:
      label: Additional Context
      description: Any other context, mockups, or references about the feature request.
      placeholder: Add any other context here...
    validations:
      required: false
